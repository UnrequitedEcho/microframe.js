<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>microframe.js Demonstration Page</title>

    <!--highlight.js-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/base16/onedark.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    
    <link rel="stylesheet" href="microframe.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Welcome to the microframe.js demonstration page</h1>

<p>microframe.js is a tiny (less than 4kB), dependency-free lightbox for images and galleries, written in pure JS. Try it and learn about it's features bolow!</p>

<h2>Single Media</h2>

<div class="wall">
	<div class="card">
		<h3>Simple Image</h3>
		<p>Clicking (or tapping on mobile) on the image will open microframe. Clicking (or tapping) anywhere, or pressing ESC will close microframe. Both opening and closing will happend with customizable smooth fade transition. This behavior is added by default to all the pictures and videos on the page.</p>
		<img src="images/img1.jpg"/>
		<pre><code>&lt;img src="url/img.jpg"/&gt;</code></pre>
	</div>

	<div class="card">
		<h3>Caption</h3>
		<p>By default, the alt text will be shown as a caption below the media. You can disable this with the options FIMXE</p>
		<img src="images/img2.jpg" alt="White Flower"/>
<pre><code>&lt;img
  src="url/img.jpg"
  alt="caption" 
/&gt;
</code></pre>
	</div>

	<div class="card">
		<h3>Opt-out</h3>
		<p>You can exclude media from being microframed with <code>class=no-microframe</code>. Click on the picture above: nothing happens</p>
		<img class="no-microframe" src="images/img3.jpg"/>
<pre><code>&lt;img
  class="no-microframe"
  src="url/img.jpg"
/&gt;
</code></pre>
	</div>

	<div class="card">
		<h3>Videos</h3>
		<p>microframe.js checks if the clicked element is a <code>&lt;img&gt;</code> or <code>&lt;video&gt;&lt;/video&gt;</code> and works with either. If you show <code>controls</code> on a video, those take priority over microframe and it won't show up.</p>
		<video poster="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/Sintel.jpg"><source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4"></video>
<pre><code>&lt;video poster="url/poster.jpg"&gt;
  &lt;source src="url/video.mp4"&gt;
&lt;/video&gt;
</code></pre>
		<video controls poster="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/Sintel.jpg"><source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4"></video>
<pre><code>&lt;video controls poster="url/poster.jpg"&gt;
  &lt;source src="url/video.mp4"&gt;
&lt;/video&gt;
</code></pre>
	</div>

	<div class="card">
		<h3>Animated GIFs</h3>
		<p>Animated GIFs or other short looping clips work just as you'd expect.</p>
		<img src="images/gif1.gif"/>
		<pre><code>&lt;img src="url/gif.gif"/&gt;</code></pre>
	</div>

	<div class="card">
		<h3>Smart Image Size</h3>
		<p>If a single source is provided, the picture is shown at full resolution if the viewport is large enough. Otherwise, the picture is scaled down to fit, with some customizable margins.</p>
		<img src="images/img5-orig.jpg" alt="Original picture resolution: 8192x5464"/>
<pre><code>&lt;img
  src="url/img.jpg"
  alt="Original picture resolution: 8192x5464" 
/&gt;
</code></pre>
		<img src="images/img5-600w.jpg" alt="Original picture resolution: 600x400"/>
<pre><code>&lt;img
  src="url/img.jpg"
  alt="Original picture resolution: 600x400" 
/&gt;
</code></pre>
	</div>

	<div class="card">
		<h3>Responsive Images</h3>
		<p>If a <code>srcset</code> is provided, microframe.js will correctly let the browser choose the best one. Note the resolution of the image below. Microframe it! Now, narrow your browser window so that this website shows up as a single column. Microframe it again!</p>
		<img
			srcset="
				images/img4-400w.jpg 400w,
				images/img4-1200w.jpg 1200w,
				images/img4-2000w.jpg 2000w
			"
			sizes="400px"
			src="images/img4-400w.jpg"
			alt="Notice the picture size (bottom right corner)"
		/>
<pre><code>&lt;img
  srcset="
    images/img-400w.jpg 400w,
    images/img-1200w.jpg 1200w,
    images/img-2000w.jpg 2000w
  "
  sizes="400px"
  src="images/img-400w.jpg"
  alt="Notice the picture size (bottom right corner)"
/&gt;
</code></pre>
	</div>

	<div class="card">
		<h3>Dynamic Pointers on Desktop</h3>
		<p>With the included <code>CSS</code>, the pointer stays informative. Hover over any media on this page, notice how it becomes <code>zoom-in</code> when microframe is available. Microframe any picture: the pointer becomes <code>zoom-out</code>. Microframe the available video. Notice how the pointer transforms to <code>zoom-out</code> anywhere on the windows, but stays standard over the video and controls.</p>
	</div>

	<div class="card">
		<h3>Arbitrary Content</h3>
		<p>You can make any html block microframe-able by giving it the <code>class=microframe</code>. For this exemple, let's microframe a wide <code>&lt;pre&gt;&lt;code&gt;</code> block. Notice how the microframed version is widened to avoid having to scroll</p>
<pre class="microframe language-javascript" ><code>
// QuickSort Implementation in JavaScript
// This code sorts an array in ascending order using the QuickSort algorithm.

/**
 * partition function:
 * This function takes the last element as pivot, places the pivot element at its
 * correct position in the sorted array, and places all smaller elements to the left
 * of the pivot and all greater elements to the right.
 */
function partition(arr, low, high) {
    // Choose the last element as pivot
    let pivot = arr[high]; 

    // i keeps track of the position of the last element smaller than pivot
    let i = low - 1; 

    // Iterate over the array from low to high - 1
    for (let j = low; j <= high - 1; j++) {
        // If current element is smaller than pivot
        if (arr[j] < pivot) {
            i++; // move the boundary of smaller elements forward

            // Swap arr[i] with arr[j] so that arr[i] now contains the smaller element
            [arr[i], arr[j]] = [arr[j], arr[i]]; 
        }
    }

    // After finishing the loop, place the pivot after the last smaller element
    [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]]; 

    // Return the pivot index
    return i + 1;
}

/**
 * quickSort function:
 * Recursively sorts the array using the partition function.
 */
function quickSort(arr, low, high) {
    // Base case: if the subarray has one or zero elements, it's already sorted
    if (low >= high) return;

    // Partition the array and get the pivot index
    let pi = partition(arr, low, high);

    // Recursively sort the subarray before the pivot
    quickSort(arr, low, pi - 1);

    // Recursively sort the subarray after the pivot
    quickSort(arr, pi + 1, high);
}
</code></pre>
<pre><code>&lt;pre class="microframe" &gt;&lt;code&gt;
  Your code here
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
	</div>

</div>


<h2>Gallery Mode</h2>

<div class="slideshow gallery">
	<div class="card microframe">
		<h3>Gallery Mode</h3>
		<p>Wrapping your media in a container that has <code>class = "gallery"</code> switches microframe in gallery mode. In this mode, you can use left and right arrow keys (or horizontal swipes on mobile) to go to the next media or microframe element. Click on this card to scroll through this slide show in microframe.js !</p>
<pre><code>&lt;div class="gallery"&gt;
  &lt;img src="url/img1.jpg"/&gt;
  &lt;img src="url/img2.jpg"/&gt;
&lt;/div&gt;
</code></pre>
	</div>

	<img src="images/img5-600w.jpg" alt="Images obviously still work very well. "/>
	<img src="images/img1.jpg"/>
	<img src="images/img2.jpg"/>
	<img src="images/img3.jpg"/>
	<img src="images/img4-1200w.jpg"/>
	<img src="images/img5-600w.jpg"/>
</div>


<script type="module">
    import { initMicroframe } from './microframe.js';
    initMicroframe();
</script>

<script>hljs.highlightAll();</script>

</body>
</html>

<!--
https://unsplash.com/@landolakesinc
https://unsplash.com/@helloimnik
https://unsplash.com/@dead__angel_
https://unsplash.com/@eugenivy_now
-->
